<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Quản lý Tiến trình Python</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link rel="stylesheet" href="../static/css/index.css">
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>Quản lý Tiến trình Python</h1>
        </div>
        
        <div class="main-content">
            <div class="controls-column">
                <div class="process-control mac-card">
                    <div class="card-header">
                        <h2 class="card-title">Thiết lập tiến trình</h2>
                    </div>
                    
                    <div class="form-group">
                        <label for="process-name">Tên tiến trình</label>
                        <input type="text" id="process-name" class="form-control" placeholder="Nhập tên tiến trình" value="Tiến trình mới">
                    </div>
                    
                    <div class="form-group">
                        <label>Nguồn dữ liệu</label>
                        <div class="sources-grid" id="sources-container">
                            <!-- Nguồn sẽ được thêm bằng JavaScript -->
                            <div class="source-item">
                                <span class="spinner"></span> Đang tải...
                            </div>
                        </div>
                    </div>
                    
                    <div class="form-group">
                        <label>Tùy chọn</label>
                        <div class="options-grid">
                            <div class="option-item" data-option="face_recognition">
                                <input type="checkbox" id="face_recognition" class="option-checkbox">
                                <label for="face_recognition">Nhận diện khuôn mặt</label>
                                <div class="tooltip">
                                    <i class="fas fa-info-circle"></i>
                                    <span class="tooltip-text">Kích hoạt tính năng nhận diện khuôn mặt</span>
                                </div>
                            </div>
                            
                            <div class="option-item dependent" data-option="face_emotion" data-depends="face_recognition">
                                <input type="checkbox" id="face_emotion" class="option-checkbox">
                                <label for="face_emotion">Cảm xúc khuôn mặt</label>
                                <div class="tooltip">
                                    <i class="fas fa-info-circle"></i>
                                    <span class="tooltip-text">Nhận diện cảm xúc từ khuôn mặt (yêu cầu nhận diện khuôn mặt)</span>
                                </div>
                            </div>
                            
                            <div class="option-item dependent" data-option="raise_hand" data-depends="face_recognition">
                                <input type="checkbox" id="raise_hand" class="option-checkbox">
                                <label for="raise_hand">Phát hiện giơ tay</label>
                                <div class="tooltip">
                                    <i class="fas fa-info-circle"></i>
                                    <span class="tooltip-text">Phát hiện cử chỉ giơ tay (yêu cầu nhận diện khuôn mặt)</span>
                                </div>
                            </div>
                            
                            <div class="option-item" data-option="face_mask">
                                <input type="checkbox" id="face_mask" class="option-checkbox">
                                <label for="face_mask">Phát hiện khẩu trang</label>
                                <div class="tooltip">
                                    <i class="fas fa-info-circle"></i>
                                    <span class="tooltip-text">Phát hiện người có đeo khẩu trang hay không</span>
                                </div>
                            </div>
                            
                            <div class="option-item" data-option="qr_code">
                                <input type="checkbox" id="qr_code" class="option-checkbox">
                                <label for="qr_code">Quét mã QR</label>
                                <div class="tooltip">
                                    <i class="fas fa-info-circle"></i>
                                    <span class="tooltip-text">Nhận diện và giải mã QR code</span>
                                </div>
                            </div>
                            
                            <div class="option-item" data-option="save">
                                <input type="checkbox" id="save" class="option-checkbox">
                                <label for="save">Lưu hình ảnh</label>
                                <div class="tooltip">
                                    <i class="fas fa-info-circle"></i>
                                    <span class="tooltip-text">Lưu hình ảnh từ camera</span>
                                </div>
                            </div>
                            
                            <div class="option-item" data-option="export_data">
                                <input type="checkbox" id="export_data" class="option-checkbox">
                                <label for="export_data">Xuất dữ liệu</label>
                                <div class="tooltip">
                                    <i class="fas fa-info-circle"></i>
                                    <span class="tooltip-text">Xuất dữ liệu phân tích</span>
                                </div>
                            </div>
                            
                            <div class="option-item dependent" data-option="time_to_save" data-depends="export_data">
                                <input type="checkbox" id="time_to_save_check" class="option-checkbox">
                                <label for="time_to_save_check">Thời gian lưu</label>
                                <div class="option-param">
                                    <input type="number" id="time_to_save_value" value="3" min="1">
                                </div>
                                <div class="tooltip">
                                    <i class="fas fa-info-circle"></i>
                                    <span class="tooltip-text">Thời gian lưu dữ liệu (giây)</span>
                                </div>
                            </div>
                            
                            <div class="option-item" data-option="notification">
                                <input type="checkbox" id="notification" class="option-checkbox">
                                <label for="notification">Thông báo</label>
                                <div class="tooltip">
                                    <i class="fas fa-info-circle"></i>
                                    <span class="tooltip-text">Gửi thông báo khi phát hiện được đối tượng</span>
                                </div>
                            </div>
                        </div>
                    </div>
                    
                    <div class="button-group">
                        <button id="run-btn" class="btn btn-primary">
                            <i class="fas fa-play"></i> Chạy tiến trình
                        </button>
                        <button id="clear-btn" class="btn btn-secondary">
                            <i class="fas fa-broom"></i> Xóa tùy chọn
                        </button>
                    </div>
                </div>
                
                <div class="process-list mac-card">
                    <div class="card-header">
                        <h2 class="card-title">Danh sách tiến trình</h2>
                        <button id="refresh-btn" class="btn btn-secondary" style="padding: 6px 12px;">
                            <i class="fas fa-sync-alt"></i>
                        </button>
                    </div>
                    
                    <div class="process-list-container" id="process-list-container">
                        <p class="text-center" id="no-process-message">Chưa có tiến trình nào được chạy</p>
                        <!-- Danh sách tiến trình sẽ được thêm bằng JavaScript -->
                    </div>
                </div>
            </div>
            
            <div class="process-output mac-card">
                <div class="card-header">
                    <h2 class="card-title">
                        <span id="current-process-name">Đầu ra tiến trình</span>
                        <span id="process-status-indicator" style="display: none;">
                            <span class="spinner"></span> Đang chạy
                        </span>
                    </h2>
                    
                    <div>
                        <button id="stop-btn" class="btn btn-danger" style="padding: 6px 12px;" disabled>
                            <i class="fas fa-stop"></i> Dừng
                        </button>
                    </div>
                </div>
                
                <div class="terminal" id="terminal">
                    <p class="terminal-line">Chưa có tiến trình nào được chọn. Vui lòng chạy hoặc chọn một tiến trình để xem log.</p>
                </div>
            </div>
        </div>
    </div>
    
    <script src="../static/js/index.js"></script>
</body>
</html>